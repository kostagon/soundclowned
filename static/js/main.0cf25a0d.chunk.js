(this["webpackJsonpsound-cloud"]=this["webpackJsonpsound-cloud"]||[]).push([[0],{37:function(e,t,n){e.exports=n.p+"static/media/happy_music.fb85f719.svg"},38:function(e,t,n){e.exports=n.p+"static/media/undraw_happy_music_g6wc.87aeb819.svg"},39:function(e,t,n){e.exports=n.p+"static/media/nature.22b08523.svg"},40:function(e,t,n){e.exports=n.p+"static/media/undraw_nature_m5ll.009bc82e.svg"},41:function(e,t,n){e.exports=n.p+"static/media/astronaut.23ee41ce.svg"},42:function(e,t,n){e.exports=n.p+"static/media/undraw_relaunch_day_902d.b76746e9.svg"},45:function(e,t,n){e.exports=n(91)},50:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),s=n.n(c),l=(n(50),n(6)),i=n(8),o=n(33),u=function(){return r.a.createElement("header",{className:"flex align-center strong"},r.a.createElement("h2",{className:"logo"},r.a.createElement(i.a,{icon:o.a})))},m=function(e){var t=e.track,n=e.onTrackSelect;return"list"===e.previewStyle?r.a.createElement("div",{className:"track-preview-list-container",onClick:function(){n(t)}},r.a.createElement("span",{className:"preview-title align-self-center"},t.title," - ",t.genre)):r.a.createElement("div",{className:"track-preview-tile-container",onClick:function(){n(t)}},r.a.createElement("p",{className:"overflow-hidden line-clamp"},t.title),t.artwork_url?r.a.createElement("img",{className:"justify-self-end align-self-center",src:t.artwork_url,alt:"artwork"}):r.a.createElement("span",{className:"strong align-self-center justify-self-end"},"No image"))},f=n(9),p=n.n(f),E=n(17),h=n(18),v=n.n(h),d=n(34),g=n.n(d),k={getTracks:function(e){return S.apply(this,arguments)},getNextTracks:function(e){return w.apply(this,arguments)}};function S(){return(S=Object(E.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/tracks",{q:t,limit:6,linked_partitioning:1});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("There was an error fetching data, error:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function w(){return(w=Object(E.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return e.prev=1,e.next=4,g.a.get(t).then((function(e){return e.data}));case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.log("Error fetching data (getNextTracks). Error:",e.t0);case 10:e.next=13;break;case 12:return e.abrupt("return","No more tracks to show");case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}v.a.initialize({client_id:Object({NODE_ENV:"production",PUBLIC_URL:"/soundclowned",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_KEY_SC});var T=function(e){return function(t,n){var a;if(e)a=k.getTracks(e);else{var r=n().track.nextTracksUrl;a=k.getNextTracks(r)}a.then((function(e){t({type:"SET_TRACKS",tracks:e})})).catch((function(e){console.log("There was an error fetching data. Error:",e)}))}};var y={set:function(e,t){return sessionStorage.setItem(e,JSON.stringify(t)),t},get:function(e){return JSON.parse(sessionStorage.getItem(e))}},_=n(12),b=n(35),N=Object(l.b)((function(e){return{tracks:e.track.tracks,previewStyle:e.util.previewStyle}}),(function(e){return{getTracks:function(t){return e(T(t))},setSelectedTrack:function(t){return e(function(e){return function(t,n){t({type:"SET_SELECTED_TRACK",track:e})}}(t))},updateSearches:function(t){return e(function(e){return function(t,n){var a=n().search.searches;console.log(a),a.includes(e)||(a.length>=5&&(a=a.slice(0,4)),a.unshift(e),y.set("recent-searches",a),t({type:"SET_SEARCHES",searches:a}))}}(t))},setPreviewStyle:function(t){return e(function(e){return localStorage.setItem("preview-style",e),console.log(localStorage.getItem("preview-style")),{type:"SET_PREVIEW_STYLE",previewStyle:e}}(t))}}}))((function(e){var t=Object(a.useRef)(null),n=e.tracks,c=function(t){e.setSelectedTrack(t)},s=function(t){t!==e.previewStyle&&e.setPreviewStyle(t)},l="search-results-".concat(e.previewStyle);return r.a.createElement("section",{className:"search-cmp-container justify-self-center"},r.a.createElement("form",{onSubmit:function(n){n.preventDefault();var a=t.current.value;a.length>=3&&(e.updateSearches(a),e.getTracks(a),t.current.value="")}},r.a.createElement("input",{type:"text",placeholder:"Search SoundCloud",ref:t,autoComplete:"none"}),r.a.createElement("button",null,r.a.createElement(i.a,{icon:_.c}))),n&&n.length?r.a.createElement("section",{className:l},n.map((function(t){return r.a.createElement(m,{track:t,onTrackSelect:c,previewStyle:e.previewStyle,key:t.id})})),r.a.createElement("div",{className:"results-options"},r.a.createElement(i.a,{icon:_.a,onClick:function(){e.getTracks()}}),r.a.createElement("div",{className:"listing-options"},r.a.createElement("div",null,r.a.createElement(i.a,{icon:_.b,onClick:function(){s("list")}})),r.a.createElement("div",null,r.a.createElement(i.a,{icon:b.a,onClick:function(){s("tile")}}))))):r.a.createElement("section",{className:"search-results justify-self-center"},r.a.createElement("span",null,"Your tracks will appear here")))})),O=Object(l.b)((function(e){return{searches:e.search.searches}}),(function(e){return{getTracks:function(t){return e(T(t))}}}))((function(e){var t=e.searches,n=e.getTracks;return r.a.createElement("section",{className:"recent-searches-container"},r.a.createElement("ul",{className:"clean-list"},r.a.createElement("li",null,"Recent Searches:"),t.map((function(e){return r.a.createElement("li",{className:"list-link",key:e,onClick:function(){n(e)}},e)}))))})),j=n(36),C=n.n(j),x=function(e){var t=e.track;return r.a.createElement("section",{className:"player-cmp-container"},r.a.createElement("div",{className:"track-details"},"Genre: ",t.genre,r.a.createElement("br",null)),r.a.createElement("div",{className:"player-container"},r.a.createElement(C.a,{url:t.permalink_url,volume:null,width:"100%",height:"unset"})))},R=function(){return r.a.createElement("footer",null,r.a.createElement("h4",null,"Kosta Goncharov"))},A=n(37),P=n.n(A),I=n(38),K=n.n(I),W=n(39),D=n.n(W),L=n(40),H=n.n(L),J=n(41),U=n.n(J),Y=n(42),G=n.n(Y),V=[U.a,P.a,K.a,G.a,D.a,H.a];var B=function(){var e=function(e){var t=Math.floor(10*Math.random(1,e));return t>=e&&(t=e),t}(V.length-1),t=V[e];return r.a.createElement("div",{className:"svg-container align-self-end justify-self-center"},r.a.createElement("img",{src:t,alt:"for the horde"}))},F=Object(l.b)((function(e){return{selectedTrack:e.track.selectedTrack,searches:e.search.searches}}),null)((function(e){var t=e.selectedTrack,n=e.searches;return r.a.createElement("div",{className:"App main-layout"},r.a.createElement(u,null),r.a.createElement(N,null),t&&r.a.createElement(x,{track:t}),r.a.createElement(B,null),n.length>0&&r.a.createElement(O,null),r.a.createElement(R,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(7),$=n(5),q={tracks:[],selectedTrack:null,nextTracksUrl:""},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TRACKS":var n=t.tracks.collection,a=t.tracks.next_href;return Object($.a)(Object($.a)({},e),{},{tracks:n,nextTracksUrl:a});case"SET_SELECTED_TRACK":var r=t.track;return Object($.a)(Object($.a)({},e),{},{selectedTrack:r});default:return e}},Q=n(44),X={searches:sessionStorage["recent-searches"]?JSON.parse(sessionStorage.getItem("recent-searches")):["Pink Floyd","Wish you were here","A$AP Rocky - Pharsyde (Ft. Joe Fox)"]},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCHES":return{searches:Object(Q.a)(t.searches)};case"GET_SEARCHES":return e.searches;case"UPDATE_SEARCHES":return Object($.a)(Object($.a)({},e),{},{searches:t.searches});default:return e}},ee={previewStyle:localStorage.getItem("preview-style")?localStorage.getItem("preview-style"):"list"},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PREVIEW_STYLE":return e.previewStyle;case"SET_PREVIEW_STYLE":return Object($.a)(Object($.a)({},e),{},{previewStyle:t.previewStyle});default:return e}},ne=Object(M.c)({track:z,search:Z,util:te}),ae=n(43),re=Object(M.d)(ne,Object(M.a)(ae.a));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:re},r.a.createElement(F,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.0cf25a0d.chunk.js.map